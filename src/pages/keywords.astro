---
import PageLayout from "@/layouts/page-layout.astro";
import TableHead from "@/components/table-head.astro";
import TabulatorTable from "@/components/tabulator-table.svelte";
import { keywordsTableConfig } from "@/lib/tabulator-table-configs.js";
import keywordsjson from "@/content/data/keywords.json";

import Chart from "@/components/chart-keywords.astro";
// Transform data and prepare columns for Tabulator Table
const keywords = Object.values(keywordsjson);
const tableData = keywordsTableConfig.transformData(keywords);
const columns = keywordsTableConfig.getColumns();
const rowClickConfig = keywordsTableConfig.getRowClickConfig;
---

<PageLayout title="keywords">
  <TableHead title="Keywords">
    <TabulatorTable
      client:only="svelte"
      data={tableData}
      columns={columns}
      tableId="keywords-table"
      options={{
        paginationSize: 25,
      }}
      downloadTitle="jad_keywords"
      rowClickConfig={rowClickConfig}
    />
  </TableHead>
  <Chart />
</PageLayout>



