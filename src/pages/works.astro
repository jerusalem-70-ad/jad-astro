---
import PageLayout from "../layouts/page-layout.astro";
import { getCollection } from "astro:content"
const collection = await getCollection("works")

// make a function to read the collection; 'export' make the function available for Astro'S static site generation. 

// export async function getStaticPaths() {
//     // 1) Use getCollection to fetch the json file
//     const mss = await getCollection("manuscripts")
//     return mss.map(manuscript => {
//         return { params: {id: manuscript.id},
//                 props: {data: manuscript.data}}
//    })
// }

---

<PageLayout>
    <div class="mx-auto w-full max-w-screen-xl px-16 py-4">
		<div>
			<h1 class="text-2xl font-semibold text-brandBrown py-4">Works:</h1>
           
            <ul>
                
                {collection.map((work) => {
                    return (
                        <li class="list-disc">                     
                           <a href=`works/${work.data.jad_id}` class="hover:text-brandRed font-medium"><span class="italic">{work.data.name}</span></a>                                                        
                        </li>)
                })}
            </ul>            
		</div>
	</div>
</PageLayout>